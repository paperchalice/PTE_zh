\usepackage{amsmath, amssymb, amsthm, commath, diagbox, xparse, mathtools,scalerel}
\usepackage[inline]{enumitem}
\usepackage{makeidx, imakeidx}
\usepackage{etoolbox}
\usepackage{tikz, graphicx, float, subcaption}

\usepackage{hyperref, subfiles} % Best loaded last in the preamble

\newcommand{\term}[1]{\textbf{#1} \index{#1}}
\newcommand{\C}{\ensuremath{\mathbf{C}}}
\newcommand{\N}{\ensuremath{\mathbf{N}}}
\newcommand{\Q}{\ensuremath{\mathbf{Q}}}
\newcommand{\R}{\ensuremath{\mathbf{R}}}
\newcommand{\Z}{\ensuremath{\mathbf{Z}}}
\DeclareMathOperator*{\bigplus}{\scalerel*{+}{\sum}}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\probP}{\mathrm{P}}
\DeclareMathOperator{\E}{E}
\DeclareMathOperator{\indicator}{1}
\let\oldemptyset\emptyset
\let\emptyset\varnothing

\setlist[enumerate,1]{label*=(\roman*), itemjoin=。, itemjoin*={；和}}

\newtheorem{theorem}{定理}[section]
\newtheorem{lemma}[theorem]{引理}
\newtheorem{definition}[theorem]{定义}
\theoremstyle{remark}
\newtheorem*{remark}{注}
\theoremstyle{plain}
\newtheorem*{claim}{断言}
\AtBeginEnvironment{theorem}{
	\setlist[enumerate]{label={(\roman*)}, itemjoin=；, itemjoin*={；和}}
}
\AtBeginEnvironment{lemma}{
	\setlist[enumerate]{label={(\roman*)}, itemjoin=；, itemjoin*={；和}}
}
\AtBeginEnvironment{proof}{
	\setlist[enumerate]{label={(\roman*)}}
}
\theoremstyle{definition}
\newtheorem{example}[theorem]{例}

\numberwithin{equation}{section}

\newlist{exercise}{enumerate}{3}
\setlist[exercise,2]{label={(\roman*)}, itemjoin=；}
\setlist[exercise,3]{label={(\alph*)}}
\setlist[exercise,1]{label=\textbf{练习\thesection.\arabic*},ref=\bf 练习\thesection.\arabic*}

\renewcommand{\thmref}[1]{定理~\ref{#1}}
\renewcommand{\exref}[1]{例~\ref{#1}}
\renewcommand{\defnref}[1]{定义~\ref{#1}}
\renewcommand{\secref}[1]{\ref{#1}~节}
\renewcommand{\lemref}[1]{引理~\ref{#1}}
